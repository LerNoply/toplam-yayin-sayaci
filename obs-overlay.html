<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Yayın Süresi</title>
  <link rel="stylesheet" href="style-overlay.css">
</head>
<body>
  <div id="countdown">Yükleniyor...</div>

  <script>
    function getStartDateFromURL() {
      const params = new URLSearchParams(window.location.search);
      return params.get('start');
    }

    function parseDate(str) {
      return new Date(str);
    }

    function formatTime(ms) {
      const totalSeconds = Math.floor(ms / 1000);
      const hours = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
      const minutes = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
      const seconds = String(totalSeconds % 60).padStart(2, '0');
      return `${hours}:${minutes}:${seconds}`;
    }

    function updateTimer() {
      const startDateStr = getStartDateFromURL();
      if (!startDateStr) {
        document.getElementById('countdown').textContent = 'Başlangıç tarihi yok';
        return;
      }
      const startDate = parseDate(startDateStr);
      const now = new Date();
      const diff = now - startDate;
      if (diff < 0) {
        document.getElementById('countdown').textContent = 'Yayın başlamadı';
        return;
      }
      document.getElementById('countdown').textContent = formatTime(diff);
    }

    setInterval(updateTimer, 1000);
    updateTimer();
  </script>
</body>
</html>

<style>  
body {
  margin: 0;
  padding: 0;
  background: transparent;
}
#countdown {
  font-size: 2.5rem;
  color: white;
  text-align: center;
  font-family: monospace;
  padding: 10px;
  background-color: rgba(0, 0, 0, 0.5);
  border-radius: 10px;
  width: fit-content;
  margin: 20px auto;
}
</style>

